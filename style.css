/* style.css: 디자인과 스타일을 담당하는 독립된 문서 */
/* 1단 통합 구조 기반 가변 헤더의 물리적 배치 및 구조 */
header {
    display: flex;
    flex-direction: column;
    background-color: #fff;
    border-bottom: 1px solid #eaecef;
    transition: all 0.3s ease; /* 슬림 모드 전환 시 부드러운 효과 */
    overflow: hidden;
    position: relative; /* 자식 요소(브랜드명, H↕)의 절대 위치 기준점 */
}

/* 통합 컨테이너: 확장 시 높이를 유연하게, 슬림 시 압축 */
.header-container {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* 핵심: 모든 자식 요소(토글 버튼 포함)를 천장(최상단) 선상에 정렬 */
    padding: 8px 20px;       /* 정밀 보정: 상하 여백을 10px에서 8px로 압축하여 내부 요소 부상 유도 */
    min-height: 36px;        /* 기본 높이를 유지하여 1층 상태의 디자인 일관성 확보 *//* 1단 높이를 두대신축버튼 높이에 맞게 하향 조정 */
    height: auto;            /* 2~3층 적재 시 헤더가 위로 자연스럽게 늘어나도록 설정 */
    position: relative;
    transition: padding 0.3s ease;
}

/* 슬림 모드 발동 시 헤더 컨테이너의 여백 및 높이 압축 */
#header.slim-mode .header-container {
    padding: 2.5px 20px;     /* 극한 압착: 슬림 모드 여백을 절반으로 줄여 완벽한 수평선 형성 */
    min-height: 30px;       /* 슬림 모드에서의 최소 높이 보정 */  /* 슬림 모드 1단 전체 높이를 두대신축단추(↕)와 호응토록 좌표 맞춤 */
}

/* 각 구역(Section): 내부 요소를 수직으로 쌓기 위한 설정 */
.section-left, .section-center, .section-right {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    flex: 1;                /* 구역 간 균등 배분 */
    z-index: 2;
}

/* 좌측 구역: 브랜드명 상자(brand-box)와 L1/L2 버튼 그룹 배치 */
/* 좌측 구역: 확장 시 L1/L2를 2단 바닥으로 밀어내기 위해 높이 100% 확보 */
.section-left {
    align-items: flex-start;
    height: 100%;           /* 부모 높이를 가득 채워 margin-top: auto가 작동하도록 함 */
    /* 추가: 모드 전환 시 L1/L2가 수직으로 부드럽게 이동하도록 설정 */
    transition: justify-content 0.3s ease;  /* 모드 전환 시 부드러운 정렬 변화 */
}

/* 확장 모드: 브랜드명(1단)과 L1/L2(2단 바닥) 사이의 간격을 자동으로 최대화 */
.section-left .button-group {
    margin-top: auto;       /* 상단 여백을 자동으로 채워 버튼을 2단 최하단으로 밀어냄 */
}

/* 슬림 모드 발동 시: 브랜드명이 빠져나간 좌측 구역의 남은 요소를 수직 중앙 정렬 */
#header.slim-mode .section-left {
    justify-content: center; /* 핵심: 슬림 모드에서 L1/L2 버튼 뭉치를 수직 정중앙에 배치 */
}

/* 슬림 모드 발동 시: 확장 시 부여했던 바닥 밀착용 자동 마진 제거 */
#header.slim-mode .section-left .button-group {
    margin-top: 0;
}

/* 중앙 구역: 3층 폴더 메뉴를 수용하며 슬림 모드 시 소거 */
.section-center {
    flex: 2;                /* 중앙 영역을 더 넓게 확보 */
    align-items: center;
}
#header.slim-mode .section-center {
    display: none;          /* 슬림 모드 시 중앙 메뉴 영역을 완전히 숨김 */
}

/* 우측 구역: 두대신축(H↕) 버튼과 R1/R2 버튼 그룹 배치 */
/* 우측 구역: 내부 요소를 수직으로 정렬하되, H↕ 버튼의 위치 논리를 보존 */
/* 우측 구역: 확장 시 R1/R2를 2단 바닥으로 밀어내기 위해 높이 100% 확보 */
.section-right {
    align-items: flex-end;
    height: 100%;           /* 부모 높이를 가득 채워 margin-top: auto가 작동하도록 함 */
    transition: justify-content 0.3s ease; /* 모드 전환 시 부드러운 정렬 변화 */
}

/* 확장 모드: R1/R2 버튼 뭉치를 2단 최하단으로 강제 하강 */
.section-right .button-group {
    margin-top: auto;       /* 상단 여백을 자동으로 채워 버튼을 2단 바닥으로 밀어냄 */
}

/* 슬림 모드 발동 시: 우측 구역의 R1/R2 버튼 그룹을 수직 중앙 정렬 */
#header.slim-mode .section-right {
    justify-content: center; /* 1단 압축 시 버튼 뭉치를 수직 정중앙에 배치 */
}

/* 슬림 모드 발동 시: 자동 여백을 제거하여 R1/R2를 다시 1단(수직 중앙)으로 복귀 */
#header.slim-mode .section-right .button-group {
    margin-top: 0;
}

/* 버튼 그룹 및 토글 버튼 스타일(style) */
.button-group {
    display: flex;
    border: 1px solid #ddd;
    border-radius: 6px; /* 라운드(round) 직사각형(直矩形) 형태(形態) */
    overflow: hidden; /* 내부(內部) 버튼(button)이 배경(背景)을 벗어나지 않게 함 */
}

.toggle-btn {
    background: none;
    border: none; /* 개별(個別) 테두리 제거(除去) */
    padding: 2px 10px;
    cursor: pointer;
    font-size: 0.8em;
    color: #666;
    transition: background-color 0.2s;
}

/* 버튼(button) 그룹(group) 내(內) 버튼(button) 사이의 구분선(區分線) */
.button-group .toggle-btn + .toggle-btn {
    border-left: 1px solid #ddd;
}

/* 두대신축(頭帶伸縮) 버튼 전용 스타일: 다른 2개짜리 토글 묶음과 동일한 너비 확보 */
/* R1/R2를 위한 우측 마진 추가 */
/* 여백 최적화 */
/* 마진 분리 */
.header-right .button-group {
    margin-right: 10px; /* 바구니에 마진을 주어 R1/R2와의 간격 확보 */
}

#toggle-header {
    width: 60px;                /* 다른 2개 버튼 묶음과 전체 너비 동일하게 설정 */
    display: flex;              /* 내부 기호(↕)의 정밀 정렬을 위해 플렉스 적용 */
    justify-content: center;    /* 가로 중간 정렬 */
    align-items: center;        /* 세로 중간 정렬 */
    padding: 2px 0;             /* 가로 패딩 제거로 너비 고정 */

    /* 외형 복구: 단독 버튼화에 따른 테두리 및 둥근 모서리 재설정 */
    border: 1px solid #ddd;    /* 테두리 재생성 */
    border-radius: 6px;        /* 라운드 직사각형 형태 복구 */
    background-color: #fff;    /* 배경색 명시 */

    /* 수정: R1/R2 버튼 뭉치와의 겹침 방지를 위해 간격 대폭 확대 */
    /* 원인(原因)에 기반한 배치: section-right 내부에서 충분한 안전 거리 확보 */
    position: absolute;        
    right: 150px;               /* 우측 R1/R2 그룹(약 130px)과의 충돌을 피하기 위해 150px로 조정 */
    /* 정밀 보정: 확장/슬림 모드 공통 부동(不動) 좌표 설정 (1단 헤더의 수직 정중앙) */
    top: 7.27px;                 
    z-index: 10;                /* 다른 요소보다 위에 노출 */
    /* 주의: top 전환 효과를 제거하여 모드 변경 시 흔들림 방지 */
    transition: background-color 0.2s;
}

/* 추가: 호버(hover) 시 배경색 변화 기능 복구 */
#toggle-header:hover {
    background-color: #f5f5f5; /* 마우스 호버 시 약간 짙은 회색으로 변경 */
}

/* 슬림 모드 시 두대신축 버튼 상단 밀착 보정 로직 삭제: 상시 고정 좌표로 통일통일(統一) */

.toggle-btn:hover {
    background-color: #f0f0f0;
}

/* 달내가 마음에 쏙 들어하신 브랜드 링크 스타일(유지하기.) */
#brand-link {
    text-decoration: none;
    font-weight: 700;
    font-size: 1.25em;
    color: #24292f;
    letter-spacing: -0.02em;
    transition: color 0.2s;
}

#brand-link:hover {
    color: #0969da;
    text-decoration: underline;
}

/* 브랜드명 슬림 모드 수평 중간 이동 및 상하 배치 로직 */
.brand-box {
    position: absolute;       /* 기본 상태에서도 절대 위치를 부여하여 기준점 고정 */
    left: 20px;               /* 초기 위치: 헤더 컨테이너의 좌측 패딩값과 동일하게 설정 */
    transform: translateX(0); /* 초기 상태에서는 변형 없음 */
    transition: left 0.3s ease, transform 0.3s ease, color 0.2s;
    z-index: 5;
}

/* 슬림 모드 시 브랜드명을 좌측으로부터 밀어내어 수평 중간으로 안착 및 색상 감쇄 */
#header.slim-mode .brand-box {
    left: 50%;                /* 중앙으로 이동 */
    transform: translateX(-50%); /* 정확한 수평 중간 정렬 보정 */
}

/* 슬림 모드 시 브랜드 링크 색상을 처음의 옅은 회색에서 30% 더 감쇄하여 70% 농도로 조정. 이후 그것에서 다시 40% 감쇄하여 60% 농도로 조정. */
#header.slim-mode #brand-link {
    color: #e2e6e9;           /* 처음의 70%, 다시 그것의 60%. */
}

/* 시각적 2단 구분선: 확장 모드에서 브랜드명(상단)과 하단 요소 사이의 경계 표현 */
.section-left::after {
    content: "";
    position: absolute;
    top: 52px;                 /* 확장 모드 시 구분선이 그려질 높이 */
    left: 0;
    width: 100vw;              /* 화면 전체 너비를 가로지르는 구분선 */
    border-bottom: 1px solid #f0f0f0;
    pointer-events: none;      /* 구분선이 마우스 클릭을 방해하지 않도록 설정 */
    display: block;
}

/* 슬림 모드 시 시각적 구분선 제거 */
#header.slim-mode .section-left::after {
    display: none;
}

/* 전체 페이지 스크롤 방지 및 높이 고정 */
body { 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; 
    line-height: 1.6;
    margin: 0;
    display: flex;
    flex-direction: column;
    height: 100vh; /* 화면 전체 높이 고정 */
    overflow: hidden;    /* 바디 전체의 스크롤을 금지하여 고정 헤더 구현 */    
}

#container {
    display: flex;
    flex: 1; /* 헤더와 푸터를 제외한 중앙 영역을 가득 채움 */
    overflow: hidden; /* 하위 요소인 아티클에서 스크롤 제어 */
}              /*  헤더와 푸터를 제외한 나머지 공간을 꽉 채우고 내부 스크롤 허용 */

.sidebar {
    background-color: #fafafa;
    border-right: 1px solid #eee;
    width: 0; /* 초기(初期) 상태(狀態)는 닫힘 */
    overflow: hidden;
    transition: width 0.017s ease; /* 부드러운 개폐(開閉) 효과(效果) */
    flex-shrink: 0; /* 너비(width)가 0으로 줄어드는 것을 보장(保障) */
}

/* 활성화(活性化) 시(時) 나타날 스타일(style) */
.sidebar.active {
    width: 250px; /* 열렸을 때의 너비(width) */
}

#sidebar-right {
    border-right: none;
    border-left: 1px solid #eee;
}

/* 실제 콘텐츠가 담기는 아티클 영역에 스크롤 부여 */
#article {
    flex: 1;
    padding: 20px; 
    overflow-y: auto; /* 본문이 길어지면 아티클 영역만 스크롤 */
}

/* --- 문서 내 여백餘白 정책 --- */
/* 아티클 내부의 제목(h1~h6)과 문단(p) 뒤에 일관된 여백을 부여하여 가독성 확보 */
#article h1 { margin-top: 0; margin-bottom: 3em; }
#article h2 { margin-top: 0; margin-bottom: 2.5em; }
#article h3 { margin-top: 0; margin-bottom: 2em; }
#article h4 { margin-top: 0; margin-bottom: 1.7em; }
#article h5 { margin-top: 0; margin-bottom: 1.5em; }
#article h6 { margin-top: 0; margin-bottom: 1.3em; }
#article p  { margin-top: 0; margin-bottom: 0.5em; }
#article ul, #article ol { margin-top: 0; margin-bottom: 0.2em; }

/* 마지막 요소 아래에는 불필요한 여백이 생기지 않도록 처리 */
/* "글이 끝나는 지점地點이 곧 아티클article 영역領域의 바닥이어야 한다"는 선언宣言 */
/* 마지막에 여백餘白이 남아 있으면, 실제實際 내용은 끝났는데도 아래로 더 스크롤scroll이 되는 듯한 답답함을 줄 수 있음. */
#article > *:last-child {
    margin-bottom: 0;
}

/* 헤더header 중앙中央 메뉴menu 영역領域의 버튼button 배치配置 설정設定 */
/* 헤더(header) 중앙(中央) 메뉴(menu) 영역(領域)의 3층 벽돌 적재 설정 */
/* 헤더(header) 중앙(中央) 메뉴(menu) 영역(領域): 3개의 층(row)을 수직으로 쌓는 컨테이너 */
/* 헤더(header) 중앙(中央) 메뉴(menu) 영역(領域): 3개의 층(row)을 바닥부터 수직으로 적재 */
.folder-menu {
    display: flex;
    flex-direction: column-reverse; /* 핵심: 1층(바닥)부터 위로 차례대로 쌓이도록 역순 배치 */
    align-items: center;            /* 각 층을 중앙에 정렬 */
    gap: 1.3px;                     /* 층과 층 사이의 수직 간격 */
    flex: 2;
    /* 수정: 1단 브랜드명과의 중첩을 피하고 시각적 구분선 아래인 2단으로 하강 */
    margin: 53px auto 0;            /* 상단에 여백을 주어 2단 영역으로 밀어냄 */
}

/* 각 층(row)을 나타내는 개별 컨테이너 스타일 */
/* 각 층(row) 내부의 버튼 배치 설정 */
.menu-row {
    display: flex;            /* 내부 버튼들을 가로 방향으로 배치 */
    justify-content: center;        /* 층 내부 버튼들을 중앙 정렬 */
    gap: 1.3px;                     /* 버튼 사이의 가로 간격 */
    width: 100%;               /* 부모 너비를 따라 균형 유지 */   /* 부모 컨테이너인 .folder-menu의 너비를 가득 채움 */
}

/* 헤더(header) 메뉴(menu) 내(內) 개별(個別) 버튼(button)의 상세(詳細) 스타일(style) */
/* 헤더(header) 내(內) 개별(個別) 메뉴(menu) 항목(項目)의 스타일(style) */
/* 토글(toggle) 기능(機能)이 아닌 단순(單純) 탐색(探索)용 버튼(button)이므로 menu-item으로 명명(命名) */
.folder-menu .menu-item {
    background-color: #ebf2ff; /* 요청(要請)하신 연한 푸른색 계열(系列)로 배경(背景)을 채움 */
    border: 1px solid #ddd;   /* 기존(旣存) 버튼(button) 그룹(group)과 동일(同一)한 색상(色相)의 테두리 선(線) 부여(附與) */
    border-radius: 6px;       /* 모서리를 둥글게 깎아 라운드(round) 직사각형(直矩形) 형태(形態) 구현(具現) */
    padding: 4px 12px;        /* 버튼(button) 내부(內部) 글자와 테두리 사이의 충분(充分)한 여백(餘白) 확보(確保) */
    cursor: pointer;          /* 마우스(mouse) 포인터(pointer)를 올려두었을 때 클릭(click) 가능(可能) 상태(狀態) 표시(表示) */
    font-size: 0.85em;        /* 헤더(header) 메뉴(menu)에 적합(適合)한 최적(最適)의 글자 크기(크기) 설정(設定) */
    color: #444;              /* 가독성(可讀性)을 고려(考慮)하여 중성적(中性的)인 진한 회색(灰色) 글자 적용(適用) */
    transition: all 0.2s ease; /* 배경색(背景色)이나 테두리 변화(變化) 시(時) 부드러운 전환(轉換) 효과(效果) 제공(提供) */
}

/* 헤더(header) 메뉴(menu) 버튼(button)에 마우스(mouse)를 올렸을 때(hover)의 시각(視覺) 효과(效果) */
/* 메뉴(menu) 항목(項目)에 마우스(mouse)를 올렸을 때(hover)의 시각(視覺) 효과(效果) */
.folder-menu .menu-item:hover {
    background-color: #d1e3ff; /* 호버(hover) 시(時) 배경색(背景色)을 살짝 더 진하게 변경(變更)하여 상호작용(相互作用) 강조(强調) */
    border-color: #ccc;        /* 테두리 선(線)의 색상(色相)도 미세(微細)하게 강조(强調) */
}

/*   클립링크(h1, anchor-link, icon) 스타일 */
h1 { 
    position: relative; 
    display: inline-block; 
    cursor: default; 
}

/* 앵커 링크 스타일: 평소에는 숨김 */
.anchor-link {
    display: inline-block;
    margin-left: 8px;
    color: #afbac4;
    text-decoration: none;
    font-size: 0.7em;
    opacity: 0;
    transition: opacity 0.2s ease, color 0.2s;
}

/* 제목 호버 시 아이콘 노출 */
h1:hover .anchor-link { 
    opacity: 1; 
}

/* 아이콘 호버 시 색상 변경 */
.anchor-link:hover { 
    color: #0969da; 
}

/* SVG 아이콘 규격 */
.icon { 
    width: 16px; 
    height: 16px; 
    fill: currentColor; 
    vertical-align: middle; 
}

/*   푸터 기본 스타일 */
footer {
    height: 17.3px;   /*  높이를 수동으로 조절.  */
    background-color: #f8f8f8;
    border-top: 1px solid #ddd;
    /*   text-align: center; 을 삭제. 필요 없다 함. */
    font-size: 0.9em;
    color: #666;
    /*  padding: 0.03px 0; 삭제. */
    /*  line-height: 0.3; 삭제. */
    display: flex;          /*  수직 중앙 정렬 보장 */    
    align-items: center;    /*  여백이 없어도 글자를 수직 정중앙에 배치 */
    justify-content: center;    /*  가로 방향方向으로 정중앙正中央에 배치配置 */
    /*  flex-shrink: 0; 삭제. 두께 유지하는 주범으로 의심됨. */
    /*  min-height: 9px; 을 삭제 */
    overflow: hidden;  /*  전체화면 스크롤이 없음에도 브랜드명과 클립링크를 번갈아 클릭시 전체화면이 상하로 까딱거리는 증상 겨냥. */
}

/*   토글단추 툴팁의 스타일.    */
.tooltip-box {
    position: absolute;
    display: none;
    background-color: white;
    color: #333;
    padding: 5px 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    pointer-events: none;
    z-index: 9999;
    white-space: pre-line; /* 줄바꿈 문자(\n 또는 &#10;)를 만나면 줄을 바꿈 */
    word-break: break-all; /* 너무 긴 단어도 상자 밖으로 나가지 않게 함 */
}